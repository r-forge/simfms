rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
# pdf("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/cancer_reduced_plot.pdf",
#     width=5, height=4.5)
par(mfrow=c(1,2), mar=c(5,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", #yaxt="n",
bty="n",
xlab="NED = No Evidence of Disease; LR = Local Relapse; \n DM = Distant Metastasis; De = Dead",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", yaxt="n",
bty="n",
xlab="NED = No Evidence of Disease; LR = Local Relapse; \n DM = Distant Metastasis; De = Dead",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
# pdf("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/cancer_reduced_plot.pdf",
#     width=5, height=4.5)
par(mfrow=c(1,2), mar=c(5,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", #yaxt="n",
bty="n",
xlab="(a)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n",
bty="n",
xlab="(b)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
# pdf("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/cancer_reduced_plot.pdf",
#     width=5, height=4.5)
par(mfrow=c(1,2), mar=c(5,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", #yaxt="n",
bty="n",
xlab="(a)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
yaxt="n",
bty="n",
xlab="(b)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
# pdf("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/cancer_reduced_plot.pdf",
#     width=5, height=4.5)
par(mfrow=c(1,2), mar=c(5,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n",
bty="n",
xlab="(a)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", yaxt="n",
bty="n",
xlab="(b)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
# pdf("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/cancer_reduced_plot.pdf",
#     width=5, height=4.5)
par(mfrow=c(1,2), mar=c(3,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n",
bty="n",
xlab="(a)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", yaxt="n",
bty="n",
xlab="(b)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
# pdf("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/cancer_reduced_plot.pdf",
#     width=5, height=4.5)
par(mfrow=c(1,2), mar=c(5,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n",
bty="n",
xlab="(a)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", yaxt="n",
bty="n",
xlab="(b)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
# dev.off()
pdf("/home/federico/Documents/uni/dottorato_pd_2010/papers_for_thesis/FMSMSviaMPeL/artwork/cancerplots.pdf",
width=10, height=4.5)
par(mfrow=c(1,2), mar=c(5,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n",
bty="n",
xlab="(a)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 2), c(1,1,3,3)+8) ,
c( c(4,5,4,5), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 2), c(1,3,1,3)+8),
c( c(5,5,4,4), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,2), 10),
rep(4.5, 4) + c(0,3,-3,0),
c("NED", "LR", "DM", "De")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  ,  7  ),
c(5  , 4  , 4.5, 7.5, 1.5),
c(5  , 5  , 9  , 10 , 10  ),
c(7.5, 1.5, 4.5, 5  ,  4  ),
fill=1, size=.5)
###################
# Cancer extended #
###################
#   par(mar=c(0,0,0,0))
plot(-1,-1,
xlim=c(1, 11), ylim=c(1,8),
xaxt="n", yaxt="n",
bty="n",
xlab="(b)",
ylab=""
)
segments(
c( c(1,1,3,3), rep( c(1,1,3,3)+4, 3), c(1,1,3,3)+8) ,
c( rep( c(4,5,4,5), 2), c(4,5,4,5)+3 , c(4,5,4,5)-3, c(4,5,4,5)),
c( c(1,3,1,3), rep( c(1,3,1,3)+4, 3), c(1,3,1,3)+8),
c( rep( c(5,5,4,4), 2), c(5,5,4,4)+3, c(5,5,4,4)-3, c(5,5,4,4))
)
text(
c(2, rep(6,3), 10),
rep(4.5, 5) + c(0,0,3,-3,0),
c("NED", "De", "LR", "DM", "LRDM")
)
library(sfsmisc)
p.arrows(
c(2  , 2  , 3  , 7  , 6  , 7  , 6  , 9  ),
c(5  , 4  , 4.5, 7.5, 7  , 1.5, 2  , 4.5),
c(5  , 5  , 5  , 10 , 6  ,10  , 6  , 7  ),
c(7.5, 1.5, 4.5, 5  , 5  , 4  , 4  , 4.5),
fill=1,
#   	lty=c(2, 3, 1, 3, 1, 2, 1, 1),
size=.5)
dev.off()
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
a = 1
b = 1/a
a = 0
b = 1/a
b
log(0)
log(-20)
b=function(x) log(x)
a=-1:1
b(a)
try(b(a))
library("parfm")
setwd("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/parfm/data")
read.csv("asthma.dat")
head(read.csv("asthma.dat"))
head(read.csv("culling.dat"))
head(read.csv("diagnosis.dat"))
head(read.csv("ecf.dat"))
head(read.csv("insem.dat"))
head(read.csv("mastitis.dat"))
head(read.csv("reconstitution.dat"))
A particular patient has different periods at risk during the total observation
str(read.csv("asthma.dat"))
data(kidney)
?kidney
??kidney
as = read.csv("asthma.dat")
as[as$end==168,]
as[as$end==420,]
as[as$end==56,]
as[as$end==134,]
as[as$end==325,]
as[as$end==465,]
str(read.csv("asthma.dat"))
as[as$Patid==1,]
as[as$Patid==2,]
as[as$Patid==3,]
as[as$Patid==4,]
as[as$Patid==5,]
as[as$Patid==6,]
as[as$Patid==7,]
as[as$Patid==8,]
as[as$Patid==9,]
as[as$Patid==10,]
as[as$Patid==11,]
as[as$Patid==12,]
as[as$Patid==13,]
table(as$Patid, as$Fevent)
table(as$Fevent, as$Patid)
setwd("/home/federico/Documents/uni/dottorato_pd_2010/Rcode/simfms/pkg/R")
for (f in list.files()) source(f)
set.seed(90)
simulCRcf(nsim=30,
trans = trans.cancer.reduced(),
clock="f",
# Frailty
fdist="gamma",
ftheta=.5,
nclus=NULL,
csize=NULL,
# Covariates
covs=list(
Treat=function(x) rbinom(x, 1, .5),
Age=function(x) rnorm(x, mean=60, sd=7)),
beta=list(Treat=log(c(.3, 1, rep(1.2, 3))),
Age=log(c(.8, .9, rep(1.2, 3)))/10),
# Marginals
ctheta=1,
#   prev=NULL,
marg="weibull",
pars=rbind(lambda=rep(1, 5), rho=rep(1, 5)),
cens="gompertz",
cpars=rbind(lambda=rep(.7,3), rho=rep(1,3)),
adcens=72
)
